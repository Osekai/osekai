const tp1x1 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";
// this is a 1x1 transparent pixel

const CountryShortCodeToCountryName = {
    'AF': 'Afghanistan',
    'AX': 'Aland Islands',
    'AL': 'Albania',
    'DZ': 'Algeria',
    'AS': 'American Samoa',
    'AD': 'Andorra',
    'AO': 'Angola',
    'AI': 'Anguilla',
    'AQ': 'Antarctica',
    'AG': 'Antigua And Barbuda',
    'AR': 'Argentina',
    'AM': 'Armenia',
    'AW': 'Aruba',
    'AU': 'Australia',
    'AT': 'Austria',
    'AZ': 'Azerbaijan',
    'BS': 'Bahamas',
    'BH': 'Bahrain',
    'BD': 'Bangladesh',
    'BB': 'Barbados',
    'BY': 'Belarus',
    'BE': 'Belgium',
    'BZ': 'Belize',
    'BJ': 'Benin',
    'BM': 'Bermuda',
    'BT': 'Bhutan',
    'BO': 'Bolivia',
    'BA': 'Bosnia And Herzegovina',
    'BW': 'Botswana',
    'BV': 'Bouvet Island',
    'BR': 'Brazil',
    'IO': 'British Indian Ocean Territory',
    'BN': 'Brunei Darussalam',
    'BG': 'Bulgaria',
    'BF': 'Burkina Faso',
    'BI': 'Burundi',
    'KH': 'Cambodia',
    'CM': 'Cameroon',
    'CA': 'Canada',
    'CV': 'Cape Verde',
    'KY': 'Cayman Islands',
    'CF': 'Central African Republic',
    'TD': 'Chad',
    'CL': 'Chile',
    'CN': 'China',
    'CX': 'Christmas Island',
    'CC': 'Cocos (Keeling) Islands',
    'CO': 'Colombia',
    'KM': 'Comoros',
    'CG': 'Congo',
    'CD': 'Congo, Democratic Republic',
    'CK': 'Cook Islands',
    'CR': 'Costa Rica',
    'CI': 'Cote D\'Ivoire',
    'HR': 'Croatia',
    'CU': 'Cuba',
    'CY': 'Cyprus',
    'CZ': 'Czech Republic',
    'DK': 'Denmark',
    'DJ': 'Djibouti',
    'DM': 'Dominica',
    'DO': 'Dominican Republic',
    'EC': 'Ecuador',
    'EG': 'Egypt',
    'SV': 'El Salvador',
    'GQ': 'Equatorial Guinea',
    'ER': 'Eritrea',
    'EE': 'Estonia',
    'ET': 'Ethiopia',
    'FK': 'Falkland Islands (Malvinas)',
    'FO': 'Faroe Islands',
    'FJ': 'Fiji',
    'FI': 'Finland',
    'FR': 'France',
    'GF': 'French Guiana',
    'PF': 'French Polynesia',
    'TF': 'French Southern Territories',
    'GA': 'Gabon',
    'GM': 'Gambia',
    'GE': 'Georgia',
    'DE': 'Germany',
    'GH': 'Ghana',
    'GI': 'Gibraltar',
    'GR': 'Greece',
    'GL': 'Greenland',
    'GD': 'Grenada',
    'GP': 'Guadeloupe',
    'GU': 'Guam',
    'GT': 'Guatemala',
    'GG': 'Guernsey',
    'GN': 'Guinea',
    'GW': 'Guinea-Bissau',
    'GY': 'Guyana',
    'HT': 'Haiti',
    'HM': 'Heard Island & Mcdonald Islands',
    'VA': 'Holy See (Vatican City State)',
    'HN': 'Honduras',
    'HK': 'Hong Kong',
    'HU': 'Hungary',
    'IS': 'Iceland',
    'IN': 'India',
    'ID': 'Indonesia',
    'IR': 'Iran, Islamic Republic Of',
    'IQ': 'Iraq',
    'IE': 'Ireland',
    'IM': 'Isle Of Man',
    'IL': 'Israel',
    'IT': 'Italy',
    'JM': 'Jamaica',
    'JP': 'Japan',
    'JE': 'Jersey',
    'JO': 'Jordan',
    'KZ': 'Kazakhstan',
    'KE': 'Kenya',
    'KI': 'Kiribati',
    'KR': 'Korea',
    'KW': 'Kuwait',
    'KG': 'Kyrgyzstan',
    'LA': 'Lao People\'s Democratic Republic',
    'LV': 'Latvia',
    'LB': 'Lebanon',
    'LS': 'Lesotho',
    'LR': 'Liberia',
    'LY': 'Libyan Arab Jamahiriya',
    'LI': 'Liechtenstein',
    'LT': 'Lithuania',
    'LU': 'Luxembourg',
    'MO': 'Macao',
    'MK': 'Macedonia',
    'MG': 'Madagascar',
    'MW': 'Malawi',
    'MY': 'Malaysia',
    'MV': 'Maldives',
    'ML': 'Mali',
    'MT': 'Malta',
    'MH': 'Marshall Islands',
    'MQ': 'Martinique',
    'MR': 'Mauritania',
    'MU': 'Mauritius',
    'YT': 'Mayotte',
    'MX': 'Mexico',
    'FM': 'Micronesia, Federated States Of',
    'MD': 'Moldova',
    'MC': 'Monaco',
    'MN': 'Mongolia',
    'ME': 'Montenegro',
    'MS': 'Montserrat',
    'MA': 'Morocco',
    'MZ': 'Mozambique',
    'MM': 'Myanmar',
    'NA': 'Namibia',
    'NR': 'Nauru',
    'NP': 'Nepal',
    'NL': 'Netherlands',
    'AN': 'Netherlands Antilles',
    'NC': 'New Caledonia',
    'NZ': 'New Zealand',
    'NI': 'Nicaragua',
    'NE': 'Niger',
    'NG': 'Nigeria',
    'NU': 'Niue',
    'NF': 'Norfolk Island',
    'MP': 'Northern Mariana Islands',
    'NO': 'Norway',
    'OM': 'Oman',
    'PK': 'Pakistan',
    'PW': 'Palau',
    'PS': 'Palestinian Territory, Occupied',
    'PA': 'Panama',
    'PG': 'Papua New Guinea',
    'PY': 'Paraguay',
    'PE': 'Peru',
    'PH': 'Philippines',
    'PN': 'Pitcairn',
    'PL': 'Poland',
    'PT': 'Portugal',
    'PR': 'Puerto Rico',
    'QA': 'Qatar',
    'RE': 'Reunion',
    'RO': 'Romania',
    'RU': 'Russian Federation',
    'RW': 'Rwanda',
    'BL': 'Saint Barthelemy',
    'SH': 'Saint Helena',
    'KN': 'Saint Kitts And Nevis',
    'LC': 'Saint Lucia',
    'MF': 'Saint Martin',
    'PM': 'Saint Pierre And Miquelon',
    'VC': 'Saint Vincent And Grenadines',
    'WS': 'Samoa',
    'SM': 'San Marino',
    'ST': 'Sao Tome And Principe',
    'SA': 'Saudi Arabia',
    'SN': 'Senegal',
    'RS': 'Serbia',
    'SC': 'Seychelles',
    'SL': 'Sierra Leone',
    'SG': 'Singapore',
    'SK': 'Slovakia',
    'SI': 'Slovenia',
    'SB': 'Solomon Islands',
    'SO': 'Somalia',
    'ZA': 'South Africa',
    'GS': 'South Georgia And Sandwich Isl.',
    'ES': 'Spain',
    'LK': 'Sri Lanka',
    'SD': 'Sudan',
    'SR': 'Suriname',
    'SJ': 'Svalbard And Jan Mayen',
    'SZ': 'Swaziland',
    'SE': 'Sweden',
    'CH': 'Switzerland',
    'SY': 'Syrian Arab Republic',
    'TW': 'Taiwan',
    'TJ': 'Tajikistan',
    'TZ': 'Tanzania',
    'TH': 'Thailand',
    'TL': 'Timor-Leste',
    'TG': 'Togo',
    'TK': 'Tokelau',
    'TO': 'Tonga',
    'TT': 'Trinidad And Tobago',
    'TN': 'Tunisia',
    'TR': 'Turkey',
    'TM': 'Turkmenistan',
    'TC': 'Turks And Caicos Islands',
    'TV': 'Tuvalu',
    'UG': 'Uganda',
    'UA': 'Ukraine',
    'AE': 'United Arab Emirates',
    'GB': 'United Kingdom',
    'UK': 'United Kingdom',
    'US': 'United States',
    'UM': 'United States Outlying Islands',
    'UY': 'Uruguay',
    'UZ': 'Uzbekistan',
    'VU': 'Vanuatu',
    'VE': 'Venezuela',
    'VN': 'Vietnam',
    'VG': 'Virgin Islands, British',
    'VI': 'Virgin Islands, U.S.',
    'WF': 'Wallis And Futuna',
    'EH': 'Western Sahara',
    'YE': 'Yemen',
    'ZM': 'Zambia',
    'ZW': 'Zimbabwe'
};

function getCountryNameByShortCode(countryCode) {
    if (CountryShortCodeToCountryName.hasOwnProperty(countryCode)) {
        return CountryShortCodeToCountryName[countryCode];
    } else {
        return countryCode;
    }
}

const CountryLongCodeToShortCode = {
    "AFG": "AF",
    "ALA": "AX",
    "ALB": "AL",
    "DZA": "DZ",
    "ASM": "AS",
    "AND": "AD",
    "AGO": "AO",
    "AIA": "AI",
    "ATA": "AQ",
    "ATG": "AG",
    "ARG": "AR",
    "ARM": "AM",
    "ABW": "AW",
    "AUS": "AU",
    "AUT": "AT",
    "AZE": "AZ",
    "BHS": "BS",
    "BHR": "BH",
    "BGD": "BD",
    "BRB": "BB",
    "BLR": "BY",
    "BEL": "BE",
    "BLZ": "BZ",
    "BEN": "BJ",
    "BMU": "BM",
    "BTN": "BT",
    "BOL": "BO",
    "BES": "BQ",
    "BIH": "BA",
    "BWA": "BW",
    "BVT": "BV",
    "BRA": "BR",
    "IOT": "IO",
    "BRN": "BN",
    "BGR": "BG",
    "BFA": "BF",
    "BDI": "BI",
    "CPV": "CV",
    "KHM": "KH",
    "CMR": "CM",
    "CAN": "CA",
    "CYM": "KY",
    "CAF": "CF",
    "TCD": "TD",
    "CHL": "CL",
    "CHN": "CN",
    "CXR": "CX",
    "CCK": "CC",
    "COL": "CO",
    "COM": "KM",
    "COG": "CG",
    "COD": "CD",
    "COK": "CK",
    "CRI": "CR",
    "CIV": "CI",
    "HRV": "HR",
    "CUB": "CU",
    "CUW": "CW",
    "CYP": "CY",
    "CZE": "CZ",
    "DNK": "DK",
    "DJI": "DJ",
    "DMA": "DM",
    "DOM": "DO",
    "ECU": "EC",
    "EGY": "EG",
    "SLV": "SV",
    "GNQ": "GQ",
    "ERI": "ER",
    "EST": "EE",
    "ETH": "ET",
    "FLK": "FK",
    "FRO": "FO",
    "FJI": "FJ",
    "FIN": "FI",
    "FRA": "FR",
    "GUF": "GF",
    "PYF": "PF",
    "ATF": "TF",
    "GAB": "GA",
    "GMB": "GM",
    "GEO": "GE",
    "DEU": "DE",
    "GHA": "GH",
    "GIB": "GI",
    "GRC": "GR",
    "GRL": "GL",
    "GRD": "GD",
    "GLP": "GP",
    "GUM": "GU",
    "GTM": "GT",
    "GGY": "GG",
    "GIN": "GN",
    "GNB": "GW",
    "GUY": "GY",
    "HTI": "HT",
    "HMD": "HM",
    "VAT": "VA",
    "HND": "HN",
    "HKG": "HK",
    "HUN": "HU",
    "ISL": "IS",
    "IND": "IN",
    "IDN": "ID",
    "IRN": "IR",
    "IRQ": "IQ",
    "IRL": "IE",
    "IMN": "IM",
    "ISR": "IL",
    "ITA": "IT",
    "JAM": "JM",
    "JPN": "JP",
    "JEY": "JE",
    "JOR": "JO",
    "KAZ": "KZ",
    "KEN": "KE",
    "KIR": "KI",
    "PRK": "KP",
    "KOR": "KR",
    "KWT": "KW",
    "KGZ": "KG",
    "LAO": "LA",
    "LVA": "LV",
    "LBN": "LB",
    "LSO": "LS",
    "LBR": "LR",
    "LBY": "LY",
    "LIE": "LI",
    "LTU": "LT",
    "LUX": "LU",
    "MAC": "MO",
    "MKD": "MK",
    "MDG": "MG",
    "MWI": "MW",
    "MYS": "MY",
    "MDV": "MV",
    "MLI": "ML",
    "MLT": "MT",
    "MHL": "MH",
    "MTQ": "MQ",
    "MRT": "MR",
    "MUS": "MU",
    "MYT": "YT",
    "MEX": "MX",
    "FSM": "FM",
    "MDA": "MD",
    "MCO": "MC",
    "MNG": "MN",
    "MNE": "ME",
    "MSR": "MS",
    "MAR": "MA",
    "MOZ": "MZ",
    "MMR": "MM",
    "NAM": "NA",
    "NRU": "NR",
    "NPL": "NP",
    "NLD": "NL",
    "NCL": "NC",
    "NZL": "NZ",
    "NIC": "NI",
    "NER": "NE",
    "NGA": "NG",
    "NIU": "NU",
    "NFK": "NF",
    "MNP": "MP",
    "NOR": "NO",
    "OMN": "OM",
    "PAK": "PK",
    "PLW": "PW",
    "PSE": "PS",
    "PAN": "PA",
    "PNG": "PG",
    "PRY": "PY",
    "PER": "PE",
    "PHL": "PH",
    "PCN": "PN",
    "POL": "PL",
    "PRT": "PT",
    "PRI": "PR",
    "QAT": "QA",
    "REU": "RE",
    "ROU": "RO",
    "RUS": "RU",
    "RWA": "RW",
    "BLM": "BL",
    "SHN": "SH",
    "KNA": "KN",
    "LCA": "LC",
    "MAF": "MF",
    "SPM": "PM",
    "VCT": "VC",
    "WSM": "WS",
    "SMR": "SM",
    "STP": "ST",
    "SAU": "SA",
    "SEN": "SN",
    "SRB": "RS",
    "SYC": "SC",
    "SLE": "SL",
    "SGP": "SG",
    "SXM": "SX",
    "SVK": "SK",
    "SVN": "SI",
    "SLB": "SB",
    "SOM": "SO",
    "ZAF": "ZA",
    "SGS": "GS",
    "SSD": "SS",
    "ESP": "ES",
    "LKA": "LK",
    "SDN": "SD",
    "SUR": "SR",
    "SJM": "SJ",
    "SWZ": "SZ",
    "SWE": "SE",
    "CHE": "CH",
    "SYR": "SY",
    "TWN": "TW",
    "TJK": "TJ",
    "TZA": "TZ",
    "THA": "TH",
    "TLS": "TL",
    "TGO": "TG",
    "TKL": "TK",
    "TON": "TO",
    "TTO": "TT",
    "TUN": "TN",
    "TUR": "TR",
    "TKM": "TM",
    "TCA": "TC",
    "TUV": "TV",
    "UGA": "UG",
    "UKR": "UA",
    "ARE": "AE",
    "GBR": "GB",
    "USA": "US",
    "UMI": "UM",
    "URY": "UY",
    "UZB": "UZ",
    "VUT": "VU",
    "VEN": "VE",
    "VNM": "VN",
    "VGB": "VG",
    "VIR": "VI",
    "WLF": "WF",
    "ESH": "EH",
    "YEM": "YE",
    "ZMB": "ZM",
    "ZWE": "ZW"
}

function getCountryNameByLongCode(countryCode) {
    if (CountryLongCodeToShortCode.hasOwnProperty(countryCode)) {
        return getCountryNameByShortCode(CountryLongCodeToShortCode[countryCode]);
    } else {
        return countryCode;
    }
}



var icons = {
    "standard": `<svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M10.5002 3.79791C6.80058 3.79791 3.79803 6.80046 3.79803 10.5C3.79803 14.1996 6.80058 17.2022 10.5002 17.2022C14.1997 17.2022 17.2023 14.1996 17.2023 10.5C17.2023 6.80046 14.1997 3.79791 10.5002 3.79791Z" fill="white"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M6.4117 0.826596C7.70745 0.277021 9.08362 0 10.5 0C11.9164 0 13.2926 0.277021 14.5883 0.826596C15.8394 1.35383 16.9609 2.10894 17.926 3.07404C18.8866 4.03915 19.6462 5.16064 20.1734 6.4117C20.723 7.70745 21 9.08362 21 10.5C21 11.9164 20.723 13.2926 20.1734 14.5883C19.6462 15.8394 18.8911 16.9609 17.926 17.926C16.9609 18.8866 15.8394 19.6462 14.5883 20.1734C13.2926 20.723 11.9164 21 10.5 21C9.08362 21 7.70745 20.723 6.4117 20.1734C5.16064 19.6462 4.03915 18.8911 3.07404 17.926C2.1134 16.9609 1.35383 15.8394 0.826596 14.5883C0.277021 13.2926 0 11.9164 0 10.5C0 9.08362 0.277021 7.70745 0.826596 6.4117C1.35383 5.16064 2.10894 4.03915 3.07404 3.07404C4.03915 2.1134 5.16064 1.35383 6.4117 0.826596ZM19.2128 10.5C19.2128 5.68787 15.3121 1.78723 10.5 1.78723C5.68787 1.78723 1.78723 5.68787 1.78723 10.5C1.78723 15.3121 5.68787 19.2128 10.5 19.2128C15.3121 19.2128 19.2128 15.3121 19.2128 10.5Z" fill="white"/>
    </svg>`,
    "taiko": `<svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd" clip-rule="evenodd" d="M3.79802 10.5C3.79802 6.80046 6.80057 3.79791 10.5001 3.79791C14.1997 3.79791 17.2023 6.80046 17.2023 10.5C17.2023 14.1996 14.1997 17.2022 10.5001 17.2022C6.80057 17.2022 3.79802 14.1996 3.79802 10.5ZM9.38312 6.17492C7.45738 6.67088 6.03206 8.42237 6.03206 10.5C6.03206 12.5777 7.45738 14.3292 9.38313 14.8296L9.38312 6.17492ZM11.6172 6.17492L11.6172 14.8251C13.5429 14.3292 14.9682 12.5777 14.9682 10.5C14.9682 8.42238 13.5429 6.67088 11.6172 6.17492Z" fill="white"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M6.4117 0.826596C7.70745 0.277021 9.08362 0 10.5 0C11.9164 0 13.2926 0.277021 14.5883 0.826596C15.8394 1.35383 16.9609 2.10894 17.926 3.07404C18.8866 4.03915 19.6462 5.16064 20.1734 6.4117C20.723 7.70745 21 9.08362 21 10.5C21 11.9164 20.723 13.2926 20.1734 14.5883C19.6462 15.8394 18.8911 16.9609 17.926 17.926C16.9609 18.8866 15.8394 19.6462 14.5883 20.1734C13.2926 20.723 11.9164 21 10.5 21C9.08362 21 7.70745 20.723 6.4117 20.1734C5.16064 19.6462 4.03915 18.8911 3.07404 17.926C2.1134 16.9609 1.35383 15.8394 0.826596 14.5883C0.277021 13.2926 0 11.9164 0 10.5C0 9.08362 0.277021 7.70745 0.826596 6.4117C1.35383 5.16064 2.10894 4.03915 3.07404 3.07404C4.03915 2.1134 5.16064 1.35383 6.4117 0.826596ZM19.2128 10.5C19.2128 5.68787 15.3121 1.78723 10.5 1.78723C5.68787 1.78723 1.78723 5.68787 1.78723 10.5C1.78723 15.3121 5.68787 19.2128 10.5 19.2128C15.3121 19.2128 19.2128 15.3121 19.2128 10.5Z" fill="white"/>
    </svg>`,
    "catch": `<svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M14.8031 10.5C14.8031 11.4254 14.0529 12.1755 13.1275 12.1755C12.2021 12.1755 11.452 11.4254 11.452 10.5C11.452 9.57463 12.2021 8.82447 13.1275 8.82447C14.0529 8.82447 14.8031 9.57463 14.8031 10.5Z" fill="white"/>
    <path d="M9.21784 8.77086C10.1432 8.77086 10.8934 8.0207 10.8934 7.09533C10.8934 6.16996 10.1432 5.4198 9.21784 5.4198C8.29247 5.4198 7.54231 6.16996 7.54231 7.09533C7.54231 8.0207 8.29247 8.77086 9.21784 8.77086Z" fill="white"/>
    <path d="M10.8933 13.9092C10.8933 14.8345 10.1432 15.5847 9.21781 15.5847C8.29244 15.5847 7.54228 14.8345 7.54228 13.9092C7.54228 12.9838 8.29244 12.2336 9.21781 12.2336C10.1432 12.2336 10.8933 12.9838 10.8933 13.9092Z" fill="white"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M6.4117 0.826596C7.70745 0.277021 9.08362 0 10.5 0C11.9164 0 13.2926 0.277021 14.5883 0.826596C15.8394 1.35383 16.9609 2.10894 17.926 3.07404C18.8866 4.03915 19.6462 5.16064 20.1734 6.4117C20.723 7.70745 21 9.08362 21 10.5C21 11.9164 20.723 13.2926 20.1734 14.5883C19.6462 15.8394 18.8911 16.9609 17.926 17.926C16.9609 18.8866 15.8394 19.6462 14.5883 20.1734C13.2926 20.723 11.9164 21 10.5 21C9.08362 21 7.70745 20.723 6.4117 20.1734C5.16064 19.6462 4.03915 18.8911 3.07404 17.926C2.1134 16.9609 1.35383 15.8394 0.826596 14.5883C0.277021 13.2926 0 11.9164 0 10.5C0 9.08362 0.277021 7.70745 0.826596 6.4117C1.35383 5.16064 2.10894 4.03915 3.07404 3.07404C4.03915 2.1134 5.16064 1.35383 6.4117 0.826596ZM19.2128 10.5C19.2128 5.68787 15.3121 1.78723 10.5 1.78723C5.68787 1.78723 1.78723 5.68787 1.78723 10.5C1.78723 15.3121 5.68787 19.2128 10.5 19.2128C15.3121 19.2128 19.2128 15.3121 19.2128 10.5Z" fill="white"/>
    </svg>`,
    "mania": `<svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M9.38287 16.1298C9.38287 16.7464 9.8833 17.2468 10.4999 17.2468C11.1165 17.2468 11.6169 16.7464 11.6169 16.1298V4.87024C11.6169 4.25364 11.1165 3.75322 10.4999 3.75322C9.8833 3.75322 9.38287 4.25364 9.38287 4.87024V16.1298Z" fill="white"/>
    <path d="M5.80858 12.9575C5.80858 13.5741 6.309 14.0745 6.9256 14.0745C7.54219 14.0745 8.04262 13.5741 8.04262 12.9575V8.04259C8.04262 7.426 7.54219 6.92557 6.9256 6.92557C6.309 6.92557 5.80858 7.426 5.80858 8.04259V12.9575Z" fill="white"/>
    <path d="M14.0745 14.0745C13.4579 14.0745 12.9574 13.5741 12.9574 12.9575V8.04259C12.9574 7.426 13.4579 6.92557 14.0745 6.92557C14.6911 6.92557 15.1915 7.426 15.1915 8.04259V12.9575C15.1915 13.5741 14.6911 14.0745 14.0745 14.0745Z" fill="white"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M6.4117 0.826596C7.70745 0.277021 9.08362 0 10.5 0C11.9164 0 13.2926 0.277021 14.5883 0.826596C15.8394 1.35383 16.9609 2.10894 17.926 3.07404C18.8866 4.03915 19.6462 5.16064 20.1734 6.4117C20.723 7.70745 21 9.08362 21 10.5C21 11.9164 20.723 13.2926 20.1734 14.5883C19.6462 15.8394 18.8911 16.9609 17.926 17.926C16.9609 18.8866 15.8394 19.6462 14.5883 20.1734C13.2926 20.723 11.9164 21 10.5 21C9.08362 21 7.70745 20.723 6.4117 20.1734C5.16064 19.6462 4.03915 18.8911 3.07404 17.926C2.1134 16.9609 1.35383 15.8394 0.826596 14.5883C0.277021 13.2926 0 11.9164 0 10.5C0 9.08362 0.277021 7.70745 0.826596 6.4117C1.35383 5.16064 2.10894 4.03915 3.07404 3.07404C4.03915 2.1134 5.16064 1.35383 6.4117 0.826596ZM19.2128 10.5C19.2128 5.68787 15.3121 1.78723 10.5 1.78723C5.68787 1.78723 1.78723 5.68787 1.78723 10.5C1.78723 15.3121 5.68787 19.2128 10.5 19.2128C15.3121 19.2128 19.2128 15.3121 19.2128 10.5Z" fill="white"/>
    </svg>`,
}


const colMods = ["SD", "DT", "EZ", "FL", "HT", "HR", "HD", "NC", "NF", "PF", "SO"];
const colLinks = ["sudden-death", "double-time", "easy", "flashlight", "half", "hard-rock", "hidden", "nightcore", "no-fail", "perfect", "spun-out"];
const colRealNames = ["Sudden Death", "Doubletime", "Easy", "Flashlight", "Halftime", "Hardrock", "Hidden", "Nightcore", "No Fail", "Perfect", "Spun-Out"];


const loader = "<div class='osekai__replace__loader'><svg viewBox='0 0 50 50' class='spinner'><circle class='ring' cx='25' cy='25' r='22.5' /><circle class='line' cx='25' cy='25' r='22.5' /></svg></div>";

var TimeAgo = (function () {
    var self = {};

    // Public Methods
    self.locales = {
        prefix: '',
        sufix: 'ago',

        seconds: 'less than a minute',
        minute: 'about a minute',
        minutes: '%d minutes',
        hour: 'about an hour',
        hours: 'about %d hours',
        day: 'a day',
        days: '%d days',
        month: 'about a month',
        months: '%d months',
        year: 'about a year',
        years: '%d years'
    };

    self.inWords = function (timeAgo) {
        var d = new Date();
        var utc = d.getTime() + (d.getTimezoneOffset() * 60000);
        var nd = new Date(utc + (3600000 * 1));
        // NOTE: 36000000 * 1 is required to offset from germany timezone
        // which is what it's stored in on prod right now
        // hopefully this will change with Octon
        // sometimes it's *2 for like daylight saving stuffs so change that when summer comes LOL

        var seconds = Math.floor((nd - parseInt(timeAgo)) / 1000),
            separator = this.locales.separator || ' ',
            words = this.locales.prefix + separator,
            interval = 0,
            intervals = {
                year: seconds / 31536000,
                month: seconds / 2592000,
                day: seconds / 86400,
                hour: seconds / 3600,
                minute: seconds / 60
            };

        var distance = this.locales.seconds;

        for (var key in intervals) {
            interval = Math.floor(intervals[key]);

            if (interval > 1) {
                distance = this.locales[key + 's'];
                break;
            } else if (interval === 1) {
                distance = this.locales[key];
                break;
            }
        }

        distance = distance.replace(/%d/i, interval);
        words += distance + separator + this.locales.sufix;

        return words.trim();
    };

    return self;
}());

function fancyTimeFormat(duration) {
    // Hours, minutes and seconds
    const hrs = ~~(duration / 3600);
    const mins = ~~((duration % 3600) / 60);
    const secs = ~~duration % 60;

    // Output like "1:01" or "4:03:59" or "123:03:59"
    let ret = "";

    if (hrs > 0) {
        ret += "" + hrs + ":" + (mins < 10 ? "0" : "");
    }

    ret += "" + mins + ":" + (secs < 10 ? "0" : "");
    ret += "" + secs;

    return ret;
}